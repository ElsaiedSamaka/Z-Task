<header>
  <!-- Jumbotron -->
  <div class="p-2 mb-3 d-flex text-white jumbotron">
    <h1 class=" ">Manage <strong> Employees</strong></h1>
    <div class=" ">
      <app-employee-form-delete></app-employee-form-delete>
      <app-employee-form></app-employee-form>
    </div>
  </div>
  <!-- Jumbotron -->

</header>

<!-- Data Grid Component -->
<table id="dtBasicExample" class="table table-striped table-bordered table-sm" cellspacing="0" width="100%"
  *ngIf="!(loading$ | async)">
  <thead>
    <tr>
      <th>
        <div class="form-check">
          <input type="checkbox" class="form-check-input" id="materialUnchecked" [checked]="isEmplyessChecked"
            (change)="onEmplyessCheck(emplyessIds)">
          <label class="form-check-label" for="materialUnchecked"></label>
        </div>
      </th>
      <th class="th-sm">
        <span> Name</span>
        <app-sort [appSort]="emplyeesToDisplay" data-order="desc" data-name="empName" (sortTypeChange)="false"></app-sort>
      </th>
      <th class="th-sm">
        <span> Email</span>
        <app-sort [appSort]="emplyeesToDisplay" data-order="desc" data-name="empEmail" (sortTypeChange)="true"></app-sort>
      </th>
      <th class="th-sm">
        <span> Address</span>
        <app-sort [appSort]="emplyeesToDisplay" data-order="desc" data-name="empAddress" (sortTypeChange)="true"></app-sort>
      </th>
      <th class="th-sm">
        <span> Phone</span>
        <app-sort [appSort]="emplyeesToDisplay" data-order="desc" data-name="empPhone" (sortTypeChange)="false"></app-sort>
      </th>
      <th class="th-sm">Actions
      </th>

    </tr>
  </thead>
  <tbody *ngIf="emplyees.length != 0; else notFound ">
    <tr *ngFor="let employee of emplyeesToDisplay">
      <td>
        <div class="form-check ">
          <input type="checkbox" class="form-check-input" id="materialUnchecked" [checked]="isEmplyessChecked"
            (change)="onEmpChange(employee.empId)">
          <label class="form-check-label" for="materialUnchecked"></label>
        </div>
      </td>
      <td>{{employee.empName}}</td>
      <td>{{employee.empEmail}}</td>
      <td>{{employee.empAddress}}</td>
      <td>{{employee.empPhone}}</td>
      <td>
        <i class="bi bi-pencil-fill icon-orange " (click)="openEditModal(employee.empId)"></i>
        <i class="bi bi-trash-fill icon-red" (click)="openConfirmationModal(employee.empId)"></i>
      </td>
    </tr>
  </tbody>
  <ng-template #notFound>
    <tbody>
      <tr>
        <td>
          <div class="form-check">
            <input type="checkbox" class="form-check-input" id="materialUnchecked" disabled>
            <label class="form-check-label" for="materialUnchecked"></label>
          </div>
        </td>
        <td colspan="4" style="text-align: center;">Not Employees Found</td>
        <td>
          <i class="bi bi-pencil-fill " disabled></i>
          <i class="bi bi-trash-fill " disabled></i>
        </td>
      </tr>
    </tbody>
  </ng-template>
</table>
<!-- Data Grid Component -->

<!-- PaginationComponent -->
<app-pagination [currentPage]="currentPage" [totalPages]="totalPages" (goTo)="onGoTo($event)"
  (previous)="onPrevious($event) " (next)="onNext($event)"></app-pagination>
<!-- PaginationComponent -->

<!-- Edit Modal -->
<app-model (dismiss)="onCloseHandled()" [display]="display" *ngIf="showModel">

  <div modal-header>
    <h5 class="modal-title">Edit Employee</h5>
    <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="onCloseHandled()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div modal-body>
    <app-form [empId]="empId" [editMode]="editMode" (dismiss)="onCloseHandled()"
      (addNewEmp)="addEmployee($event)"></app-form>
  </div>
</app-model>
<!-- Edit Modal -->

<!-- Confirmation Model -->
<app-model (dismiss)="onConfirmationCloseHandled()" [display]="displayConfirmationModel" *ngIf="showConfiramtionModel">
  <div class="d-flex flex-row" modal-header>
    <h5 class="modal-title">Delete Employee</h5>
    <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="onConfirmationCloseHandled()">
      X
    </button>
  </div>
  <div modal-body>
    <h3>Are you sure you want to delete these Records</h3>
    <p>This action cannot be undone</p>
  </div>
  <div modal-footer>
    <button class="btn btn-light m-2" (click)="onConfirmationCloseHandled()">Cancel</button>
    <button class="btn btn-danger m-2" (click)="deleteCheckedEmployees()">Delete</button>
  </div>
</app-model>
<!-- Confirmation Model -->